<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Ä°yi ki DoÄŸdun Fazocan ðŸŽ‰</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<style>
body {
  margin: 0;
  font-family: 'Poppins', sans-serif;
  overflow: hidden;
  text-align: center;
  background: linear-gradient(135deg, #ffffff, #f8f9fa, #e9ecef);
  background-size: 400% 400%;
  animation: bgMove 20s ease infinite;
}
@keyframes bgMove {
  0% { background-position: 0% 0%; }
  50% { background-position: 100% 100%; }
  100% { background-position: 0% 0%; }
}
h1 {
  font-size: 3em;
  font-weight: 700;
  color: #343a40;
  text-shadow: 0 0 15px #adb5bd;
  margin-top: 50px;
}
.message {
  font-size: 1.2em;
  max-width: 700px;
  margin: 20px auto 50px;
  background: rgba(255,255,255,0.7);
  padding: 20px;
  border-radius: 16px;
  box-shadow: 0 0 15px rgba(0,0,0,0.1);
  color: #495057;
  opacity: 0;
  transform: translateY(20px);
  animation: fadeInMessage 2s forwards 1s;
}
@keyframes fadeInMessage { to { opacity:1; transform: translateY(0); } }
.cake-container { position: relative; width: 300px; height: 200px; margin: 60px auto; }
.cake { width: 100%; height: 100%; position: relative; }
.pastry { width: 100%; height: 100%; border-radius: 20px; background: linear-gradient(#fff,#e9ecef); position: relative; }
.candle { width: 15px; height: 60px; border-radius: 5px; position: absolute; bottom: 120px; cursor: pointer; transition: transform 0.3s ease; }
.candle:hover { transform: translateY(-5px); }
.flame { width: 10px; height: 20px; background: radial-gradient(circle at 50% 20%, #fff 0%, #ffd166 40%, #ff6b6b 80%); border-radius: 50%; position: absolute; top: -20px; left: 50%; transform: translateX(-50%); animation: flicker 1s infinite; }
@keyframes flicker { 0%,100%{transform: translateX(-50%) scale(1); opacity:1;} 50%{transform: translateX(-50%) scale(1.2); opacity:0.8;} }
.candle.off .flame { display:none; }
.candle.off::after { content:''; position:absolute; top:-15px; left:50%; transform: translateX(-50%); width:4px; height:20px; background: radial-gradient(circle, rgba(150,150,150,0.6) 0%, transparent 70%); animation: smoke 1s ease-out; }
@keyframes smoke { 0%{opacity:1;transform: translateX(-50%) translateY(0) scale(1);} 100%{opacity:0;transform: translateX(-50%) translateY(-20px) scale(1.2);} }
.balloon { position: absolute; width: 60px; height: 80px; border-radius: 50%; opacity:0.9; cursor: pointer; }
.string { position:absolute; width:2px; height:40px; background:#6c757d; left:50%; top:100%; }
#playBtn {position: fixed; top:20px; right:20px; padding:10px 18px; background: rgba(255,255,255,0.6); border:none; border-radius:24px; font-weight:600; cursor:pointer; box-shadow:0 5px 15px rgba(0,0,0,0.1);}
.signature {margin-top:50px; font-size:14px; color:#343a40;}
canvas {position: fixed; top:0; left:0; width:100%; height:100%; pointer-events:none;}
</style>
</head>
<body>
<h1 id="title">ðŸŽ‰ Ä°yi ki DoÄŸdun Fazocan ðŸŽ‰</h1>
<div class="message">DoÄŸum gÃ¼nÃ¼n kutlu dostluÄŸumuz baki olsun. Hep olman hepte iyi ki olman dileÄŸiyleâ€¦ Bu balonlar ve mumlar yaÅŸÄ±na Ã¶zel 19 tane dileÄŸini tut ve mumlarÄ± sÃ¶ndÃ¼r.</div>
<button id="playBtn">ðŸŽ¶ MÃ¼ziÄŸi BaÅŸlat / Durdur</button>
<div class="cake-container">
  <div class="cake">
    <div class="pastry"></div>
  </div>
</div>
<div class="signature">HazÄ±rlayan: Kerem</div>
<canvas id="confetti"></canvas>
<script>
const cake=document.querySelector('.cake');
const BALLOON_COUNT=19;
const candleColors=['#ff6b6b','#ff922b','#fadb14','#51cf66','#339af0'];
const balloonColors=['#dee2e6','#f1f3f5','#e9ecef','#ffffff','#f8f9fa'];
const candlePositions=Array.from({length:BALLOON_COUNT},(_,i)=>i*13+30);
const balloons=[];
// Create Candles
for(let i=0;i<BALLOON_COUNT;i++){
  const candle=document.createElement('div');
  candle.className='candle';
  candle.style.left=candlePositions[i]+'px';
  candle.style.background=candleColors[i%5];
  const flame=document.createElement('div');
  flame.className='flame';
  candle.appendChild(flame);
  cake.appendChild(candle);
}
// Create Balloons
for(let i=0;i<BALLOON_COUNT;i++){
  const balloon=document.createElement('div');
  balloon.className='balloon';
  balloon.style.left=Math.random()*90+'%';
  balloon.style.top=Math.random()*60+20+'%';
  balloon.style.background=balloonColors[i%5];
  const string=document.createElement('div');
  string.className='string';
  balloon.appendChild(string);
  document.body.appendChild(balloon);
  balloons.push(balloon);
}
// Audio for pop
const popAudio=new Audio('data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEA...');
// Confetti
const canvas=document.getElementById('confetti');
const ctx=canvas.getContext('2d');
let confettiPieces=[];
function resizeCanvas(){canvas.width=window.innerWidth;canvas.height=window.innerHeight;}
window.addEventListener('resize',resizeCanvas);
resizeCanvas();
function launchConfetti(amount){for(let i=0;i<amount;i++){confettiPieces.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height-200,r:Math.random()*6+2,c:balloonColors[Math.floor(Math.random()*balloonColors.length)],vy:Math.random()*4+2,vx:(Math.random()-0.5)*2});}requestAnimationFrame(drawConfetti);}
function drawConfetti(){ctx.clearRect(0,0,canvas.width,canvas.height);confettiPieces.forEach(p=>{ctx.beginPath();ctx.arc(p.x,p.y,p.r,0,2*Math.PI);ctx.fillStyle=p.c;ctx.fill();p.y+=p.vy;p.x+=p.vx;if(p.y>canvas.height)p.y=-10;});requestAnimationFrame(drawConfetti);}
// Candle click and linked balloon
const candles=document.querySelectorAll('.candle');
candles.forEach((candle,i)=>{
  candle.addEventListener('click',()=>{
    if(candle.classList.contains('off')) return;
    candle.classList.add('off');
    const balloon=balloons[i];
    balloon.style.transform='scale(0)';
    balloon.style.opacity='0';
    try{popAudio.currentTime=0;popAudio.play();}catch(e){}
    launchConfetti(5);
    if(Array.from(candles).every(c=>c.classList.contains('off'))){
      launchConfetti(150);
      document.getElementById('title').style.textShadow='0 0 40px #343a40,0 0 60px #495057,0 0 80px #6c757d';
      if(Notification.permission==='granted'){new Notification('1 sÃ¼rprizim daha var');} else if(Notification.permission!=='denied'){Notification.requestPermission().then(p=>{if(p==='granted') new Notification('1 sÃ¼rprizim daha var');});}
    }
  });
});
// Animate balloons randomly
function animateBalloons(){balloons.forEach(b=>{let top=parseFloat(b.style.top);let left=parseFloat(b.style.left);top-=Math.random()*0.2;left+=Math.random()*0.2-0.1;if(top<0) top=100;if(left<0) left=0;if(left>90) left=90;b.style.top=top+'%';b.style.left=left+'%';});requestAnimationFrame(animateBalloons);}
animateBalloons();
// Music
const AudioCtx=window.AudioContext||window.webkitAudioContext;
let audioCtx=null;let playing=false;
const melody=[['G4',0.45],['G4',0.45],['A4',0.9],['G4',0.9],['C5',0.9],['B4',1.3],['G4',0.45],['G4',0.45],['A4',0.9],['G4',0.9],['D5',0.9],['C5',1.3],['G4',0.45],['G4',0.45],['G5',0.9],['E5',0.9],['C5',0.9],['B4',0.9],['A4',1.3]];
const notes={C4:261.63,D4:293.66,E4:329.63,F4:349.23,G4:392,A4:440,B4:493.88,C5:523.25,D5:587.33,E5:659.25,F5:698.46,G5:783.99};
function ensureAudio(){if(!audioCtx)audioCtx=new AudioCtx();}
function playMelody(){ensureAudio();let now=audioCtx.currentTime+0.02;let t=now;for(const [n,d] of melody){const f=notes[n];const o=audioCtx.createOscillator();o.type='sine';o.frequency.value=f;const g=audioCtx.createGain();g.gain.value=0.0001;o.connect(g);g.connect(audioCtx.destination);o.start(t);g.gain.linearRampToValueAtTime(0.06,t+0.02);g.gain.linearRampToValueAtTime(0.001,t+d-0.05);o.stop(t+d);t+=d;}setTimeout(playMelody, melody.reduce((a,b)=>a+b[1],0)*1000);}
document.getElementById('playBtn').addEventListener('click',()=>{if(!playing){playMelody();playing=true;}else{audioCtx.suspend();playing=false;}});
window.addEventListener('load',()=>{try{ensureAudio();audioCtx.resume().then(()=>playMelody()).catch(()=>{});}catch(e){}});
</script>
</body>
</html>
